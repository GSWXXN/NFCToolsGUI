<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>请输入已知密钥</title>
    <script src="http://cdn.staticfile.org/jquery/2.1.1/jquery.min.js" type="text/javascript"></script>
</head>
<body>
<label for="sector">扇区: </label><input type="text" id="sector" value="0">
<div>类型</div>
<label for="target-key-type-A">KeyA</label>
<input type="radio" id="target-key-type-A" name="target-key-type" value="A" checked>
<label for="target-key-type-B">KeyB</label>
<input type="radio" id="target-key-type-B" name="target-key-type" value="B">
<label for="start-position">起始位置: </label><input type="text" id="start-position" value="0">


<br>
<button onclick="window.electronAPI.closeDictTestWindow()">取消</button>
<button onclick="window.electronAPI.okayDictTestWindow(
    {
        sector: $('#sector').val(),
        keyType: getRatioValue('target-key-type'),
        startPosition: $('#start-position').val(),
    }
)">确定</button>
</body>
<script>
    window.electronAPI.onCreateDictTestWindow((_event, config) => {
        if (config) {
            $('#sector').val(config.targetSector)
            if (config.targetKeyType === 'B') {
                $('#target-key-type-B').prop('checked', true)
            } else {
                $('#target-key-type-A').prop('checked', true)
            }
        }
    })

    function getRatioValue(name){
        const radio = document.getElementsByName(name);
        for (let i = 0; i < radio.length; i++) {
            if (radio[i].checked) {
                return radio[i].value
            }
        }
    }
</script>
</html>